apiVersion: config.openshift.io/v1
kind: Authentication
metadata:
 annotations:
  include.release.openshift.io/ibm-cloud-managed: 'true'
  include.release.openshift.io/self-managed-high-availability: 'true'
  release.openshift.io/create-only: 'true'
 name: cluster
spec:
 type: 'OIDC'
 webhookTokenAuthenticator: null
 oidcProviders:
 - claimMappings:
   groups:
    claim: groups
    prefix: 'oidc-groups-test:'
   uid:
    claim: "sub"
   username:
    claim: preferred_username
    prefixPolicy: Prefix
    prefix:
     prefixString: 'oidc-user-test:'
  issuer:
   audiences:
   - openshift-cli
   - openshift
   issuerURL: https://keycloak.apps.cluster-n7p86.dynamic.redhatworkshops.io/realms/Orange
  name: 'keycloak'
  oidcClients:
  - clientID: openshift-cli
   componentName: cli
   componentNamespace: openshift-console
  - clientID: openshift
   clientSecret:
    name: keycloak-idp-secret
   componentName: console
   componentNamespace: openshift-console
   extraScopes:
    - email
    - profile







